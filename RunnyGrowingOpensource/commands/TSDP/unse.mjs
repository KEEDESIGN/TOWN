import { SlashCommandBuilder } from "discord.js";

// é‹å‹¢ãƒ¬ãƒ™ãƒ«ã”ã¨ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥é‹å‹¢ãƒªã‚¹ãƒˆã®å®šç¾©
const fortuneCategories = {
  "GREAT SNAP": {
    é‡‘é‹: [
      "å®ãã˜ãŒå½“ãŸã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼",
      "TOTOã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ï¼",
      "ãŠã£ã¨ã€ãªãœã‹æœ­æŸã•ã‚“ãŒè½ã¡ã¦ã‚‹ã‹ã‚‚ï¼",
      "æã—ãŸåˆ†ãŒè¿”ã£ã¦ãã‚‹ã‚ˆï¼",
      "ã‘ã£ã“ã†ç”Ÿã€…ã—ãå„²ã‹ã‚‹ã‹ã‚‚ï¼",
      "æ€ã‚ã¬é«˜é¡åå…¥ã®ãƒãƒ£ãƒ³ã‚¹åˆ°æ¥ï¼",
      "æŠ•è³‡ã§å¤§ããªåˆ©ç›ŠãŒæœŸå¾…ã§ãã‚‹æ—¥ã ï¼",
      "5å††ãŒ5ä¸‡å††ã«ãªã‚‹ãƒ¬ãƒ™ãƒ«ã®ã“ã¨ãŒèµ·ãã‚‹å¯èƒ½æ€§ã ã£ã¦ã€ã‚ã‚‹",
    ],
    ãƒ‡ã‚¸ã‚¿ãƒ«é‹: [
      "MacBookProãŒæ¬²ã—ã„ã¨é¡˜ã†ã“ã¨ã§ã‚‚ã—ã‹ãŸã‚‰ãƒ¯ãƒ³ãƒãƒ£ãƒ³é™ã£ã¦ãã¦ã¾ã™",
      "ãƒã‚ºã‚‹ã­ã€‚ã¾ã¡ãŒã„ãªããƒã‚ºã‚‹ã­ã€‚",
      "å®‰ãã¦ã„ã„ã‚‚ã®æ‰‹ã«å…¥ã‚Šãã†ãªäºˆæ„Ÿ",
      "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®é€Ÿåº¦ãŒãªãœã‹ã‚ã¡ã‚ƒãã¡ã‚ƒã„ã„ï¼",
      "ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ãªã‚¬ã‚¸ã‚§ãƒƒãƒˆã«å‡ºä¼šãˆã‚‹ï¼",
      "æ–°ã—ã„ã‚¬ã‚¸ã‚§ãƒƒãƒˆã¨ã®å‡ºä¼šã„ãŒå¹¸é‹ã‚’å‘¼ã¶ã‹ã‚‚ï¼",
      "SNSã§å¤§ãƒãƒ£ãƒ³ã‚¹åˆ°æ¥ï¼ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼çˆ†å¢—ã®äºˆæ„Ÿ",
      "ã™ã”ãã„ã„äººãŒç¾ã‚Œã¦è‰²ã€…æ•™ãˆã¦ãã‚Œã‚‹ã‹ã‚‚ï¼",
      "ç«¯æœ«ã®ã‚¹ãƒšãƒƒã‚¯ãŒæ€¥ã«ä¸ŠãŒã‚‹å¯èƒ½æ€§ã ã£ã¦ã‚ã‚‹ï¼",
      "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®æ´»å‹•å…¨ã¦ãŒå‰",
    ],
    äººé–“é–¢ä¿‚é‹: [
     "ã‚ã‚“ã©ã†ã ã£ãŸé–¢ä¿‚ã‚’å¤§æ¸…ç®—ï¼ã‚¹ãƒƒã‚­ãƒªã ã‚ˆ",
      "å¥‡æƒ³å¤©å¤–ãªå‹é”ãŒã§ãã‚‹ã‹ã‚‚ï¼ã‚¢ãƒ©ãƒ–ã®é‡‘æŒã¡ã‹ã‚‚ï¼",
      "è‡ªåˆ†ã®ã¾ã¾ã§ã„ã„ã‚“ã§ã™ã€‚ã™ã¹ã¦å‘¨ã‚ŠãŒåˆã‚ã›ã¦ãã‚Œã¾ã™ã€‚",
      "å‘¨ã‚Šã®äººã«é ¼ã‚Šã¾ãã‚Šã¾ã—ã‚‡ã†ã€‚ã„ã„ã“ã¨ãŒã‚ã‚Šã¾ã™",
      "ã‚ãªãŸã®é­…åŠ›ãŒçˆ†ç™ºã—ã¦äººé–“é–¢ä¿‚ãŒæœ€é«˜æ½®ã«é”ã—ã¾ã™",      
      "æ–°ã—ã„å‡ºä¼šã„ãŒäººç”Ÿã‚’å¤‰ãˆã‚‹äºˆæ„Ÿ",
      "æ˜”ãŠä¸–è©±ã«ãªã£ãŸäººã®ã“ã¨ã‚’æ€ã„å‡ºã™ã¨ã¾ã•ã‹ã®ã„ã„ã“ã¨ãŒ",
      "ã©ã‚“ãªã‚ãªãŸã§ã‚‚ã¿ã‚“ãªãŒå—ã‘å…¥ã‚Œã¦ãã‚Œã‚‹ã‚ˆ",
      "å‘¨ã‚Šã®äººã€…ãŒã‚ãªãŸã‚’åŠ©ã‘ã¦ãã‚Œã‚‹æ—¥",
      "èª°ã¨ã§ã‚‚æ‰“ã¡è§£ã‘ã‚‰ã‚Œã‚‹é­…åŠ›æº€é–‹ã®1æ—¥",
    ],
    æ‹æ„›é‹: [
      "é‹å‘½ã®äººã¨ã®å‡ºä¼šã„ãŒã‚ã‚‹ã‹ã‚‚ï¼",
      "ã„ã„ã“ã¨ã—ã‹ãªã„ã£ã™ã‚ˆï¼",
      "å‘Šç™½å¤§æˆåŠŸé–“é•ã„ãªã—ï¼",
      "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®çµ†ãŒä¸€å±¤æ·±ã¾ã‚‹æ—¥",
    ],
    å¥åº·é‹: [
      "ã¿ãªãã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã§ä½•ã§ã‚‚ã“ãªã›ã‚‹1æ—¥",
      "ç­‹è‚‰ã¨è„‚è‚ªã®å‰²åˆãŒç†æƒ³ã®ãƒãƒ©ãƒ³ã‚¹ã«æ—©å¤‰ã‚ã‚Šï¼",
      "å°‘ã—æ­©ã‘ã°ã„ã¤ã‚‚ã‚ˆã‚Šæ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ãŒUPï¼",
      "å¿ƒé ­æ»…å´ç«ã‚‚ã¾ãŸæ¶¼ã—ï¼æ°—æŒã¡æ¶¼ã—ã„ï¼",
      "å…ç–«åŠ›ã‚¢ãƒƒãƒ—ï¼ç—…æ°—çŸ¥ã‚‰ãšã®ä½“ã«",
      "æ–°ã—ã„å¥åº·æ³•ã¨ã®å‡ºä¼šã„ã§äººç”ŸãŒå¤‰ã‚ã‚‹",
    ],
  },
  "NICE SNAP": {
    é‡‘é‹: [
      "ã‚³ãƒ„ã‚³ãƒ„è²¯é‡‘ãŒå ±ã‚ã‚Œã‚‹æ—¥",
      "æ€ã‚ã¬ã¨ã“ã‚ã‹ã‚‰ãŠå°é£ã„Get!",
      "æ£šã‹ã‚‰1000å††å‡ºã¦ããŸãƒ©ãƒƒã‚­ãƒ¼",
      "å …å®ŸãªæŠ•è³‡ãŒå®Ÿã‚’çµã¶",
    ],
    ãƒ‡ã‚¸ã‚¿ãƒ«é‹: [
      "æ–°ã—ã„ã‚¢ãƒ—ãƒªã¨ã®å‡ºä¼šã„ãŒã€‡",
      "ã˜ã‚ã˜ã‚ã¨å‰é€²ã™ã‚‹ã‚¨ã‚¢ãƒ‰ãƒ­åŠ¹æœã‚’å®Ÿæ„Ÿ",
      "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®äººè„ˆãŒåºƒãŒã‚‹ã",
      "PCã®èª¿å­ãŒæ°—æŒã¡å°‘ã—ã‚¤ã‚¤æ—¥ã ã‚ˆ",
      "ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¹ã‚­ãƒ«ãŒå¤§å¹…ã‚¢ãƒƒãƒ—ã‹",
    ],
    äººé–“é–¢ä¿‚é‹: [
      "å‹äººã¨ã®çµ†ãŒæ·±ã¾ã‚‹è‰¯ã„æ©Ÿä¼šã ",
      "è·å ´ã§ã®äººé–“é–¢ä¿‚ãŒå††æ»‘ã ",
      "äººã¯ãã‚Œãã‚Œå€‹æ€§ãŒå¤§äº‹ã€‚å¤§ä¸ˆå¤«",
      "ä»Šæ—¥ã®æ„Ÿè¬ãŒæ˜æ—¥ã®æ„Ÿè¬",
      "å®¶æ—ã¨ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã‚ˆã†",
    ],
    æ‹æ„›é‹: [
      "åˆæ‹ã®äººã‚’æƒ³ã„ç¶šã‘ã‚‹å¿…è¦ã¯ãªã‹ã‚ã†",
      "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®ç´ æ•µãªãƒ‡ãƒ¼ãƒˆã‚’æœŸå¾…",
      "å¥½ãã«ã—ã¦ã‚ˆã—ï¼",
      "è‡ªå·±è‚¯å®šæ„Ÿã‚¢ãƒƒãƒ—ã§é­…åŠ›å€å¢—ã ",
    ],
    å¥åº·é‹: [
      "é©åº¦ãªé‹å‹•ã§å¿ƒèº«ã¨ã‚‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥",
      "ãŠã‚„ã€ã€ãªãœã‹ä»Šæ—¥ã¯è…¸ã®èª¿å­ãŒæŠœç¾¤ã ",
      "ã‚¹ãƒˆãƒ¬ã‚¹ãŒãªãœã‹ãŸã¾ã‚‰ãªã„ï¼ï¼Ÿ",
      "ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã„é£Ÿç”Ÿæ´»ã§ä½“èª¿çµ¶å¥½èª¿",
      "ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆæ³•ãŒè¦‹ã¤ã‹ã‚‹æ—¥",
    ],
  },
  "DO YOUR BEST SNAP": {
    é‡‘é‹: [
      "æ„å¤–ãªå‡ºè²»ã«è¦æ³¨æ„ã ",
      "å€¹ç´„ã‚’å¿ƒãŒã‘ã‚Œã°å®‰å®šã ",
       "è²¡å¸ƒã«ç©´ãŒé–‹ã„ã¦ãªã„ã‹ãƒã‚§ãƒƒã‚¯ã ",
      "5å††ã¨é–“é•ãˆã¦50å††ã‚’å‡ºã•ãªã„ã‚ˆã†ã«ï¼",
      "å°ã•ãªå·¥å¤«ãŒå°†æ¥ã®è²¡ç”£ã ã‚ˆ",
    ],
    ãƒ‡ã‚¸ã‚¿ãƒ«é‹: [
      "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«æ°—ã‚’ã¤ã‘ã¦ã­",
      "ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ‡ãƒˆãƒƒã‚¯ã‚¹ã‚’å¿ƒãŒã‘ã‚‹ã¨â—",
      "ã¡ã‚‡ã£ã¨ã¾ã£ã¦ã€‚ï¼µï¼²ï¼¬ã‚’è¦ãƒã‚§ãƒƒã‚¯",
      "ãƒãƒƒãƒˆæƒ…å ±ã«æƒ‘ã‚ã•ã‚Œãªã„ã‚ˆã†ã«ã­",
    ],
    äººé–“é–¢ä¿‚é‹: [
      "èª¤è§£ã‚’æ‹›ãã‚„ã™ã„æ—¥ã€è¨€å‹•ã«æ³¨æ„ã ",
      "ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ãªã„ã¨ã­",
      "å¤‰ãªäººã«çµ¡ã¾ã‚Œãªã„ã‚ˆã†ã«å°‘ã—ã‚³ãƒŸãƒ¥æ§ãˆã‚ã«",
      "ç›¸æ‰‹ã®ç«‹å ´ã«ç«‹ã£ã¦è€ƒãˆã‚‹ã¨å‰ã ã‘ã©ç„¡ã«ãªã‚‹ã“ã¨",
    ],
    æ‹æ„›é‹: [
      "ç„¦ã‚‰ãšè‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’ä¿ã¤ã“ã¨ãŒå¤§åˆ‡ã ã­",
      "å±é™ºãªäººã«è¿‘ã¥ã„ãŸã‚‰ãƒ€ãƒ¡",
      "å…«æ–¹ç¾äººã¯å±ãªã„ã",
      "å‹æƒ…ã‹ã‚‰æ‹æ„›ã«ç™ºå±•ã™ã‚‹ã‹ã‚‚ã­",
      "è‡ªå·±åˆ†æã®æ™‚æœŸã€å†…é¢ã‚’ç£¨ã“ã†ã­",
    ],
    å¥åº·é‹: [
      "ç¡çœ æ™‚é–“ã‚’ååˆ†ã«å–ã‚ã†ã­",
      "è»½ã„ä½“æ“ã‹ã‚‰å§‹ã‚ã‚‹ã®ãŒãŠã™ã™ã‚ã ", 
      "ä»•äº‹ã‚’æ—©ãåˆ‡ã‚Šä¸Šã’ã¦ï¼ï¼ãªã‚“ã‹ãƒ¤ãªäºˆæ„Ÿï¼",
      "é£Ÿç”Ÿæ´»ã®è¦‹ç›´ã—ã§ä½“èª¿æ”¹å–„ã ",
    ],
  },
  "SOSO SNAP": {
    é‡‘é‹: [
      "è²·ã„ã¯æ§ãˆã‚ã«ã­",
      "è²¡å¸ƒã®ç´ã¯å›ºãç· ã‚ã‚ˆã†ã­",
      "ãŠé‡‘å…¥ã£ã¦ã‚‹ï¼Ÿ",
      "ä»Šæ—¥ã®å€¹ç´„ãŒæ˜æ—¥ã®ä½™è£•ã«",
      "ãŠé‡‘ã‚ˆã‚Šå¤§äº‹ãªã‚‚ã®ãŒã‚ã‚‹ã‹ã‚‰ã•ã€‚æ°—ã«ã™ã‚“ãªã‚ˆ",
      "å¤±æ•—ã™ã‚‹ã¨ãã‚‚ã‚ã‚‹ã€‚å‰ã‚’å‘ã“ã†",
    ],
    ãƒ‡ã‚¸ã‚¿ãƒ«é‹: [
      "SNSã§ã®ãƒˆãƒ©ãƒ–ãƒ«ã«è¦æ³¨æ„ã ã‚ˆ",
      "ãƒ‡ã‚¸ã‚¿ãƒ«æ©Ÿå™¨ã®æ•…éšœã«æ°—ã‚’ã¤ã‘ã¦ã­",
      "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚‚ã“ã¾ã‚ã«å¤‰ãˆã‚ˆã†ã­",
      "ç„¡ç·šï¼¬ï¼¡ï¼®ã«è¦æ³¨æ„ã ",
      "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã¯æ…é‡ã«ã­",
    ],
    äººé–“é–¢ä¿‚é‹: [
      "äººä»˜ãåˆã„ã§ç–²ã‚Œã‚„ã™ã„æ—¥ã ã­",
      "ã²ã¨ã¯ã²ã¨ã€è‡ªåˆ†ã¯è‡ªåˆ†ã€æ°—ã«ã—ãªã„ã§",
      "è‰¯ã„äººã«è¦‹ãˆã¦æ‚ªã„äººã‚‚ãŠãŠã„ã",
      "è‡ªåˆ†ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã­",
      "ç„¡ç†ã›ãšç´ ç›´ãªæ°—æŒã¡ã§æ¥ã™ã‚‹ã¨â—",
    ],
    æ‹æ„›é‹: [
      "æ‹æ„›ã‚ˆã‚Šã‚‚è‡ªåˆ†ç£¨ãã«é›†ä¸­ã ã­",
      "ç›¸æ‰‹ã®æ°—æŒã¡ã‚’æ·±èª­ã¿ã—ãªã„ã‚ˆã†ã«ã­",
      "ã§ãã‚‹ã ã‘äººã”ã¿ã«è¡Œã‹ãªã„ã‚ˆã†ã«ã­",
      "ã‚“ãªè‰¯ã„ã“ã¨ã¯èµ·ããªã„ã",
      "ä¸€æ™‚ã®æ„Ÿæƒ…ã«æµã•ã‚Œãªã„ã‚ˆã†ã«ã­",
    ],
    å¥åº·é‹: [
      "ç„¡ç†ã¯ç¦ç‰©ã€ã‚†ã£ãã‚Šä¼‘é¤Šã‚’",
      "è»½ã„æ•£æ­©ã§æ°—åˆ†è»¢æ›ã ã­",
      "æ€¥ã«èµ°ã‚‰ãªã„ã‚ˆã†ã«ã€‚è…±ã«æ³¨æ„ã ",
      "æ·±å‘¼å¸ã‚’ãªã‚‹ã¹ãå¤šã‚ã«",
      "é£²ã¿ã™ãã¯ãƒ€ãƒ¡ãƒ€ãƒ¡",
      "è…•ã‚’æ€¥ã«ä¸Šã«ã‚ã’ã‚‹ã¨ã¡ã‚‡ã£ã¨ã‚ˆããªã„",
      "ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹ã‚’å¿ƒãŒã‘ã‚ˆ",
    ],
  },
};

export const data = new SlashCommandBuilder()
  .setName("unse")
  .setDescription("ä»Šæ—¥ã®é‹å‹¢ã ã‚ˆãƒ¼");

function getRandomFortune(level, category) {
  const fortunes = fortuneCategories[level][category];
  return fortunes[Math.floor(Math.random() * fortunes.length)];
}

export async function execute(interaction) {
  try {
    await interaction.deferReply();

    // ã¾ãšæ–°ã—ã„ç”»åƒã‚’è¡¨ç¤º
    const initialAttachment = {
      attachment: "https://cdn.glitch.global/60a83d0b-edab-43dd-83f1-1ac7dc6138d4/%E7%84%A1%E9%A1%8C502_20240525081547.jpg?v=1720308741553",
      name: "initial_fortune.jpg",
    };
    await interaction.editReply({ files: [initialAttachment] });

    // 2ç§’å¾…æ©Ÿ
    await new Promise(resolve => setTimeout(resolve, 2000));

    // GIFç”»åƒã®è¡¨ç¤º
    const gifAttachment = {
      attachment: "https://cdn.glitch.global/60a83d0b-edab-43dd-83f1-1ac7dc6138d4/20240703_092113-ANIMATION.gif?v=1720052997009",
      name: "fortune.gif",
    };
    await interaction.editReply({ files: [gifAttachment] });

    // 2ç§’å¾…æ©Ÿ
    await new Promise(resolve => setTimeout(resolve, 2000));

    const arr = [
      {
        main: `ä»Šæ—¥ã®**${interaction.user.username}ã•ã‚“**ã®é‹å‹¢ã¯ \n\n **ã€GREAT SNAP!ã€** \n **æœ€é«˜ã§ã™**\n ç©ºã‹ã‚‰å¤§é‡‘ãŒé™ã£ã¦ãã‚‹ç¸èµ·ã®è‰¯ã•ï¼\n **æœ€é«˜ã®æ°—åˆ†ã§ä¸€æ—¥ã‚’ã™ã”ã¡ã‚ƒãŠï¼**`,
        level: "GREAT SNAP",
        weight: 2,
        image: "https://cdn.glitch.global/60a83d0b-edab-43dd-83f1-1ac7dc6138d4/%E5%9B%B34.png?v=1720510592210"
      },
      {
        main: `ä»Šæ—¥ã®**${interaction.user.username}ã•ã‚“**ã®é‹å‹¢ã¯ \n\n **ã€NICE SNAP!ã€** \n **ä¸­ã€…ã„ã„æ„Ÿã˜ã§ã™ã‚ˆ** \n ä½•ã‚’ã‚„ã£ã¦ã‚‚å‰å‘ãã«ãªã‚Œã¾ã™! \n **æ°—æŒã¡ã‚ˆãï¼‘æ—¥ã‚’ã™ã”ã—ã¡ã‚ƒãŠ**`,
        level: "NICE SNAP",
        weight: 12,
        image: "https://cdn.glitch.global/60a83d0b-edab-43dd-83f1-1ac7dc6138d4/%E5%9B%B33.png?v=1720510594715"
      },
      {
        main: `ä»Šæ—¥ã®**${interaction.user.username}ã•ã‚“**ã®é‹å‹¢ã¯ \n\n **ã€DO YOUR BEST SNAP!ã€** \n **ãã“ãã“ã§ã™ã­**\n ã¨ãã©ãã„ã„ã“ã¨ãŒã‚ã‚‹ï¼\nã€€**ã„ã„ï¼‘æ—¥ã«ãªã‚‹ã“ã¨ã‚’ç¥ˆã£ã¦ã‚‹**`,
        level: "DO YOUR BEST SNAP",
        weight: 12,
        image: "https://cdn.glitch.global/60a83d0b-edab-43dd-83f1-1ac7dc6138d4/%E5%9B%B32.png?v=1720510593683"
      },
      {
        main: `ä»Šæ—¥ã®**${interaction.user.username}ã•ã‚“**ã®é‹å‹¢ã¯ \n\n **ã€SOSO SNAP!ã€** \n ã†ãƒ¼ã‚“ \n **ã†ã‚“ã€‚ãŒã‚“ã°ã‚** \n **ç†Šã‚„ã‚¤ãƒã‚·ã‚·å‡ºæ²¡ã«æ³¨æ„ã ï¼**`,
        level: "SOSO SNAP",
        weight: 4,
        image: "https://cdn.glitch.global/60a83d0b-edab-43dd-83f1-1ac7dc6138d4/%E5%9B%B31.png?v=1720510592907"
      },
    ];

    let totalWeight = arr.reduce((sum, fortune) => sum + fortune.weight, 0);
    let random = Math.floor(Math.random() * totalWeight);
    let result, fortuneLevel, fortuneImage;

    for (let fortune of arr) {
      if (random < fortune.weight) {
        result = fortune.main;
        fortuneLevel = fortune.level;
        fortuneImage = fortune.image;
        break;
      }
      random -= fortune.weight;
    }

    // å ã„çµæœã«åˆã‚ã›ãŸç”»åƒã‚’è¡¨ç¤º
    const resultAttachment = {
      attachment: fortuneImage,
      name: "fortune_result.png",
    };
    await interaction.editReply({ files: [resultAttachment] });

    // ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥é‹å‹¢ã®è¿½åŠ 
    const categories = Object.keys(fortuneCategories[fortuneLevel]);
    const detailedFortune = categories
      .map(
        (category) =>
          `â– ${category}\nã€€${getRandomFortune(fortuneLevel, category)}`
      )
      .join("\n");

    setTimeout(async () => {
      try {
        const button = {
          type: 2,
          style: 1,
          label: "ãŠã¿ãã˜",
          custom_id: "unse_button",
        };
        const actionRow = {
          type: 1,
          components: [button],
        };
        await interaction.editReply({
          content: `${result}\n\n${detailedFortune}\n\n å¤©æ°—ã‚„ã‚¬ã‚¹ä»£ãŒçŸ¥ã‚ŠãŸã‹ã£ãŸã‹ã‚‰ã“ã£ã¡ã‚‚ãƒã‚§ãƒƒã‚¯\nğŸ‘‰https://discord.com/channels/1240921271110467615/1242716278209122365\n\n **ä»Šæ—¥ã‚‚ä¸€æ—¥å¼µã‚Šåˆ‡ã£ã¦ã„ãã¾ã—ã‚‡ã†**\n\n\n **æ¬¡ã®æ–¹ã€ã©ã†ãğŸ’ğŸ»**`,
          components: [actionRow],
          files: [],
        });
      } catch (error) {
        console.error("Error in setTimeout callback:", error);
      }
    }, 4000);
  } catch (error) {
    console.error("Error in execute function:", error);
    await interaction
      .editReply({ content: "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚", components: [] })
      .catch(console.error);
  }
}
export async function handleUnseButton(interaction) {
  if (interaction.customId.startsWith("unse_")) {
    await execute(interaction);
  }
}
